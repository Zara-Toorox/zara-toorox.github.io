<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SFML Stats - Energy Dashboard f√ºr Home Assistant</title>
    <meta name="description" content="Umfassendes Energy-Monitoring Dashboard mit Echtzeit-Visualisierung, Kosten-Tracking und automatischen Reports f√ºr Home Assistant.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/styles/variables.css">
    <link rel="stylesheet" href="src/styles/reset.css">
    <link rel="stylesheet" href="src/styles/layout.css">
    <link rel="stylesheet" href="src/styles/components.css">
    <link rel="stylesheet" href="src/styles/home.css">
    <script type="module" src="src/main.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="index.html" class="logo">Solar Forecast ML</a>
            <ul class="nav-links">
                <li><a href="index.html#features">Features</a></li>
                <li><a href="index.html#weather">Wetter-Blending</a></li>
                <li><a href="index.html#installation">Installation</a></li>
                <li class="nav-dropdown">
                    <button type="button" class="nav-dropdown-toggle">
                        Module
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                        </svg>
                    </button>
                    <div class="nav-dropdown-menu">
                        <a href="sfml-stats.html" class="active">
                            <span class="dropdown-icon">üìä</span>
                            <span class="dropdown-text">
                                <span class="dropdown-title">SFML Stats</span>
                                <span class="dropdown-desc">Energy Dashboard</span>
                            </span>
                        </a>
                        <a href="grid-price-monitor.html">
                            <span class="dropdown-icon">üí∞</span>
                            <span class="dropdown-text">
                                <span class="dropdown-title">Grid Price Monitor</span>
                                <span class="dropdown-desc">Strompreis-Tracking</span>
                            </span>
                        </a>
                    </div>
                </li>
                <li><a href="wissensbasis.html">Wissensbasis</a></li>
                <li><a href="https://github.com/Zara-Toorox/sfml_stats">GitHub</a></li>
            </ul>
            <div class="nav-controls">
                <button class="theme-toggle" aria-label="Toggle theme">
                    <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <button class="hamburger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1><span>SFML Stats</span></h1>
            <p>Umfassendes Energy-Monitoring Dashboard mit Echtzeit-Visualisierung, Kosten-Tracking und automatischen Reports</p>
        </div>
    </section>

    <!-- Overview Section -->
    <section id="overview">
        <div class="container">
            <div class="section-header">
                <h2>Das Energy Dashboard</h2>
                <p>Alles im Blick: Solar, Batterie, Netz und Hausverbrauch in einer Oberfl√§che</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Echtzeit Energy-Flow</h3>
                    <p>Interaktives SVG-Diagramm zeigt den Energiefluss zwischen Solar, Batterie, Haus und Netz in Echtzeit mit animierten Nodes.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üìà</div>
                    <h3>Solar Analytics</h3>
                    <p>Produktions-Tracking mit Forecast-Vergleich, Genauigkeits-Metriken und st√ºndlicher Aufschl√ºsselung der Erzeugung.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üîã</div>
                    <h3>Batterie Analytics</h3>
                    <p>State of Charge Monitoring, Lade-/Entladeraten und Kapazit√§tsanalyse f√ºr optimales Batteriemanagement.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üí∞</div>
                    <h3>Kosten-Tracking</h3>
                    <p>Unterst√ºtzt feste und dynamische Strompreise. Integration mit Grid Price Monitor f√ºr Spot-Markt-Tarife.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3>Multi-String Support</h3>
                    <p>Tracking von bis zu 4 separaten Panel-Strings mit individuellen Namen und Live-Leistungsanzeige.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üìù</div>
                    <h3>Automatische Reports</h3>
                    <p>W√∂chentliche und monatliche Reports werden automatisch generiert - als hochaufl√∂sende PNG-Bilder.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Dashboard Components -->
    <section id="components" class="architecture">
        <div class="container">
            <div class="section-header">
                <h2>Dashboard-Komponenten</h2>
                <p>Vue.js basiertes Frontend mit ECharts f√ºr Datenvisualisierung</p>
            </div>

            <div class="article-card">
                <div class="article-header">
                    <div class="article-icon">üìä</div>
                    <div class="article-title">
                        <h2>Analytics Cards</h2>
                        <div class="author">Dashboard-Komponenten</div>
                    </div>
                </div>
                <div class="article-content">
                    <div class="features-grid" style="margin-top: 0;">
                        <div class="source-card">
                            <div class="icon">‚òÄÔ∏è</div>
                            <h4>Solar Analytics</h4>
                            <p>Tagesproduktion, Forecast vs. Actual, Accuracy</p>
                        </div>
                        <div class="source-card">
                            <div class="icon">üîã</div>
                            <h4>Battery Analytics</h4>
                            <p>SoC-Trend, Lade-/Entlade-Power, Zyklen</p>
                        </div>
                        <div class="source-card">
                            <div class="icon">üîå</div>
                            <h4>Grid Analytics</h4>
                            <p>Import/Export Trends, Net Consumption</p>
                        </div>
                        <div class="source-card">
                            <div class="icon">üè†</div>
                            <h4>House Analytics</h4>
                            <p>Verbrauch nach Quelle (Solar, Batterie, Netz)</p>
                        </div>
                        <div class="source-card">
                            <div class="icon">üå§Ô∏è</div>
                            <h4>Weather Analytics</h4>
                            <p>Temperatur-Korrelation mit Produktion</p>
                        </div>
                        <div class="source-card">
                            <div class="icon">üëï</div>
                            <h4>Clothing Recommendation</h4>
                            <p>KI-basierte Kleidungsempfehlung nach Wetter</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Billing Section -->
    <section id="billing" class="weather-sources">
        <div class="container">
            <div class="section-header">
                <h2>Kosten-Tracking & Abrechnung</h2>
                <p>Pr√§zise Kostenberechnung mit Riemann-Sum Integration</p>
            </div>

            <div class="article-card">
                <div class="article-content">
                    <h3>Abrechnungsmodi</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Modus</th>
                                <th>Beschreibung</th>
                                <th>Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Fixed Pricing</strong></td>
                                <td>Fester Tarif in ct/kWh (Standard: 35 ct/kWh)</td>
                                <td>Klassische Stromvertr√§ge mit festem Preis</td>
                            </tr>
                            <tr>
                                <td><strong>Dynamic Pricing</strong></td>
                                <td>Integration mit Grid Price Monitor f√ºr st√ºndliche Spot-Preise</td>
                                <td>Dynamische Tarife (Tibber, aWATTar, etc.)</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Konfigurierbare Parameter</h3>
                    <ul>
                        <li><strong>Abrechnungszeitraum</strong> - Startdatum passend zum Versorgervertrag</li>
                        <li><strong>Einspeiseverg√ºtung</strong> - Standard: 8.1 ct/kWh f√ºr Solar√ºberschuss</li>
                        <li><strong>Smartmeter-Sensoren</strong> - Import/Export kWh Z√§hler</li>
                    </ul>

                    <div class="info-box success">
                        <div class="info-box-title">Pr√§zise Berechnung</div>
                        <p>Die Kostenberechnung nutzt <strong>Riemann-Sum Integration</strong> aus den Home Assistant Recorder-Daten f√ºr maximale Genauigkeit - auch bei schnellen Lastspr√ºngen.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Configuration Section -->
    <section id="configuration">
        <div class="container">
            <div class="section-header">
                <h2>Konfiguration</h2>
                <p>7-Schritt Setup-Wizard f√ºr einfache Einrichtung</p>
            </div>

            <div class="article-card">
                <div class="article-content">
                    <h3>Pflicht-Sensoren</h3>
                    <p>Alle Sensoren sind <strong>optional</strong> - das Dashboard passt sich automatisch an die verf√ºgbaren Daten an.</p>

                    <h3>Empfohlene Sensoren</h3>
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Kategorie</th>
                                <th>Sensor</th>
                                <th>Einheit</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Solar</td>
                                <td>sensor_solar_power</td>
                                <td>W</td>
                            </tr>
                            <tr>
                                <td>Batterie</td>
                                <td>sensor_battery_soc</td>
                                <td>%</td>
                            </tr>
                            <tr>
                                <td>Batterie</td>
                                <td>sensor_battery_power</td>
                                <td>W</td>
                            </tr>
                            <tr>
                                <td>Haus</td>
                                <td>sensor_home_consumption</td>
                                <td>W</td>
                            </tr>
                            <tr>
                                <td>Netz</td>
                                <td>sensor_smartmeter_import</td>
                                <td>W</td>
                            </tr>
                            <tr>
                                <td>Netz</td>
                                <td>sensor_smartmeter_export</td>
                                <td>W</td>
                            </tr>
                            <tr>
                                <td>Statistik</td>
                                <td>sensor_solar_yield_daily</td>
                                <td>kWh</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>Multi-String Panel Konfiguration</h3>
                    <p>F√ºr jeden der bis zu 4 Strings:</p>
                    <div class="code-block">
panel1_name: "S√ºd"
sensor_panel1_power: sensor.pv_south_power
sensor_panel1_max_today: sensor.pv_south_max_today
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Installation Section -->
    <section id="installation" class="installation">
        <div class="container">
            <div class="section-header">
                <h2>Installation</h2>
                <p>Schnelle Einrichtung √ºber HACS</p>
            </div>

            <div class="install-steps">
                <div class="install-step">
                    <div class="step-number">1</div>
                    <h4>HACS Custom Repository</h4>
                    <p>F√ºge das Repository als Custom Repository in HACS hinzu</p>
                    <div class="code-block">https://github.com/Zara-Toorox/sfml_stats</div>
                </div>

                <div class="install-step">
                    <div class="step-number">2</div>
                    <h4>Integration hinzuf√ºgen</h4>
                    <p>Settings ‚Üí Devices & Services ‚Üí Add Integration ‚Üí SFML Stats</p>
                </div>

                <div class="install-step">
                    <div class="step-number">3</div>
                    <h4>7-Schritt Wizard</h4>
                    <p>Folge dem Setup-Wizard und verbinde deine Sensoren</p>
                </div>

                <div class="install-step">
                    <div class="step-number">4</div>
                    <h4>Dashboard √∂ffnen</h4>
                    <p>Zugriff √ºber: <code>http://[HA-IP]:8123/api/sfml_stats/dashboard</code></p>
                </div>
            </div>

            <div class="info-box warning" style="margin-top: 40px;">
                <div class="info-box-title">Hardware-Anforderungen</div>
                <p><strong>NICHT kompatibel mit:</strong> Raspberry Pi, Proxmox VE (direkte Host-Installation)</p>
                <p><strong>Empfohlen:</strong> Intel NUC, x86_64 Hardware, VMs mit 4GB+ RAM</p>
                <p>Grund: Das Modul nutzt matplotlib f√ºr intensive Chart-Generierung.</p>
            </div>
        </div>
    </section>

    <!-- Reports Section -->
    <section id="reports">
        <div class="container">
            <div class="section-header">
                <h2>Automatische Reports</h2>
                <p>Hochaufl√∂sende Berichte werden automatisch erstellt</p>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìÖ</div>
                    <h3>W√∂chentliche Reports</h3>
                    <p>Jeden Sonntag um 23:00 Uhr. Format: 16" x 20" PNG bei 150 DPI. Enth√§lt Wochen√ºbersicht aller Energiedaten.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üìÜ</div>
                    <h3>Monatliche Reports</h3>
                    <p>Am 1. jeden Monats um 02:00 Uhr. Format: 18" x 24" PNG. Monatsstatistiken und Kosten√ºbersicht.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">üíæ</div>
                    <h3>Speicherort</h3>
                    <p>Reports werden gespeichert unter: <code>/config/sfml_stats/weekly/</code> und <code>/config/sfml_stats/monthly/</code></p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="architecture">
        <div class="container">
            <div class="section-header">
                <h2>H√§ufige Fragen</h2>
            </div>

            <div class="article-card">
                <div class="article-content">
                    <h3>Wie greife ich auf das Dashboard zu?</h3>
                    <p>Nach der Installation ist das Dashboard erreichbar unter:</p>
                    <div class="code-block">http://[DEINE-HA-IP]:8123/api/sfml_stats/dashboard</div>

                    <h3>Kann ich das Dashboard in Lovelace einbinden?</h3>
                    <p>Ja, √ºber eine <strong>iframe-Karte</strong> oder einen <strong>Webview</strong> kann das Dashboard direkt in dein Home Assistant Lovelace-Dashboard integriert werden.</p>

                    <h3>Welche Daten werden gespeichert?</h3>
                    <p>SFML Stats speichert folgende Daten lokal:</p>
                    <ul>
                        <li><code>daily_energy_history.json</code> - T√§gliche Energiestatistiken</li>
                        <li><code>hourly_billing_history.json</code> - St√ºndliche Abrechnungsdaten</li>
                        <li><code>power_sources_history.json</code> - 7-Tage Power-Flow History</li>
                        <li>Generierte Chart-Bilder in weekly/monthly Ordnern</li>
                    </ul>

                    <h3>Brauche ich Solar Forecast ML?</h3>
                    <p>Nein, SFML Stats funktioniert auch <strong>standalone</strong>. Die Integration mit Solar Forecast ML erweitert jedoch die Funktionalit√§t um Forecast-Vergleiche und Genauigkeits-Metriken.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <div class="cta-box">
                <h2>Bereit f√ºr das Energy Dashboard?</h2>
                <p>Behalte deine Energiefl√ºsse und Kosten im Blick - mit SFML Stats.</p>
                <div class="btn-group" style="justify-content: center;">
                    <a href="https://github.com/Zara-Toorox/sfml_stats" class="btn btn-primary">
                        GitHub Repository
                    </a>
                    <a href="https://github.com/Zara-Toorox/sfml_stats/issues" class="btn btn-secondary">
                        Support & Issues
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="https://github.com/Zara-Toorox/sfml_stats">GitHub</a>
                <a href="index.html">Solar Forecast ML</a>
                <a href="grid-price-monitor.html">Grid Price Monitor</a>
                <a href="wissensbasis.html">Wissensbasis</a>
            </div>
            <p class="footer-copy">
                ¬© 2025 <a href="https://github.com/Zara-Toorox">Zara-Toorox</a> ¬∑
                SFML Stats v2.2.2 ¬∑
                Lizenz: AGPL-3.0
            </p>
        </div>
    </footer>
</body>
</html>
